import{constants as n,copyFileSync as o}from"fs";import{access as c,mkdir as f}from"fs/promises";import{basename as e,dirname as y,join as s}from"path";async function p(a){let i=y(a);await c(i,n.F_OK).catch(async t=>{t.code=="ENOENT"&&await p(i)}),await c(a,n.F_OK).catch(async t=>{t.code=="ENOENT"&&await f(a)})}function g(a){return{name:"vit-plugin-copy2",apply:"build",generateBundle:async()=>{if(Array.isArray(a))for(let{src:i,dest:t}of a)if(await p(t),Array.isArray(i))for(let r of i)await o(r,s(t,e(r)));else await o(i,s(t,e(i)))}}}export{g as VitePluginCopy};
